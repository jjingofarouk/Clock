<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Acts of Kindness</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
:root {
    --primary-color: #1D9BF0; /* Refined blue */
    --secondary-color: #F78837; /* Warm tangerine */
    --success-color: #00C49A; /* Bright green for success */
    --background-dark: #121212; /* Dark background */
    --text-dark: #E0E0E0; /* Light gray for text */
    --text-muted: #A3A3A3; /* Muted gray */
    --card-bg: #1E1E1E; /* Card background */
    --border-color: #292929; /* Border for separation */
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', system-ui, sans-serif;
}

body {
    min-height: 100vh;
    background-color: var(--background-dark);
    color: var(--text-dark);
    padding: 2rem;
    line-height: 1.6;
}

.container {
    max-width: 800px;
    margin: 0 auto;
}

.header {
    text-align: center;
    margin-bottom: 2rem;
}

.header h1 {
    font-size: 2.5rem;
    color: var(--primary-color);
    margin-bottom: 1rem;
}

.header p {
    font-size: 1rem;
    color: var(--text-muted);
}

.stats-bar {
    display: flex;
    justify-content: space-between;
    padding: 1rem;
    background-color: var(--card-bg);
    border-radius: 10px;
    border: 1px solid var(--border-color);
    margin-bottom: 2rem;
}

.stat-item {
    text-align: center;
    flex: 1;
}

.stat-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--success-color);
}

.stat-label {
    font-size: 0.9rem;
    color: var(--text-muted);
}

.card {
    background-color: var(--card-bg);
    padding: 2rem;
    border-radius: 15px;
    border: 1px solid var(--border-color);
    margin-bottom: 2rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
}

.card-title {
    font-size: 1.5rem;
    color: var(--text-dark);
    margin-bottom: 1rem;
}

.card-text {
    color: var(--text-muted);
}

.button {
    display: inline-block;
    background-color: var(--primary-color);
    color: #ffffff;
    padding: 0.8rem 1.5rem;
    font-size: 1rem;
    border: none;
    border-radius: 20px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.button:hover {
    background-color: var(--secondary-color);
}

.filters {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}

.filter-button {
    padding: 0.5rem 1rem;
    background-color: var(--card-bg);
    color: var(--text-dark);
    border: 1px solid var(--border-color);
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.filter-button.active {
    background-color: var(--primary-color);
    color: #ffffff;
}

.progress-bar {
    width: 100%;
    height: 10px;
    background-color: var(--border-color);
    border-radius: 5px;
    overflow: hidden;
    margin-top: 1rem;
}

.progress-fill {
    height: 100%;
    background-color: var(--primary-color);
    width: 0%;
    transition: width 0.3s ease;
}

@media (max-width: 600px) {
    body {
        padding: 1rem;
    }

    .header h1 {
        font-size: 2rem;
    }

    .stats-bar {
        flex-direction: column;
        gap: 1rem;
    }

    .stat-item {
        width: 100%;
    }

    .filters {
        gap: 0.5rem;
    }
}
</style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Random Acts of Kindness Generator</h1>
            <p>Make someone's day better with a simple act of kindness!</p>
        </div>

        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value" id="totalActs">0</div>
                <div class="stat-label">Total Acts</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="completedActs">0</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="currentStreak">0</div>
                <div class="stat-label">Day Streak</div>
            </div>
        </div>


        <div class="kindness-card">
            <div id="loading" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> Loading...
            </div>
            <div id="error" style="display: none;" class="error-message">
                Unable to load acts of kindness. Please try again later.
            </div>
            <p class="act-text" id="kindnessAct">Click the button below to get your random act of kindness for today!</p>
            <div class="act-details">
                <span class="detail-tag" id="category"></span>
                <span class="detail-tag" id="difficulty"></span>
            </div>
            <button class="button" onclick="generateAct()" id="generateButton">
                <span><i class="fas fa-heart"></i> Generate Act of Kindness</span>
            </button>
            <div class="social-share">
                <button class="share-button" onclick="markCompleted()">
                    <i class="fas fa-check"></i> Mark Complete
                </button>
                <button class="share-button" onclick="shareAct('twitter')">
                    <i class="fab fa-twitter"></i> Share
                </button>
                <button class="share-button" onclick="copyAct()">
                    <i class="fas fa-copy"></i> Copy
                </button>
            </div>
        </div>

        <div class="completion-tracker">
            <h3>Daily Progress</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p id="progressText">Complete more acts to reach your daily goal!</p>
        </div>
    </div>

    <script>
        let acts = [];
        let currentAct = null;
        let completedActs = new Set();
        let streak = 0;
        const GITHUB_RAW_URL = 'https://raw.githubusercontent.com/jjingofarouk/actsofkindness/main/kindness-acts.json';

        // Load saved data from localStorage
        function loadSavedData() {
            const saved = localStorage.getItem('kindnessData');
            if (saved) {
                const data = JSON.parse(saved);
                completedActs = new Set(data.completed);
                streak = data.streak;
                updateStats();
            }
        }

        // Save data to localStorage
        function saveData() {
            const data = {
                completed: Array.from(completedActs),
                streak: streak
            };
            localStorage.setItem('kindnessData', JSON.stringify(data));
        }

        // Fetch acts from GitHub
        async function fetchActs() {
            try {
                const response = await fetch(GITHUB_RAW_URL);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.json();
                acts = data.acts;
                updateStats();
                setupCategoryFilters();
                return true;
            } catch (error) {
                console.error('Error fetching acts:', error);
                document.getElementById('error').style.display = 'block';
                return false;
            }
        }

        // Setup category filters
        function setupCategoryFilters() {
            const categories = [...new Set(acts.map(act => act.category))];
            const filtersContainer = document.getElementById('categoryFilters');
            filtersContainer.innerHTML = `
                <button class="filter-button active" data-category="all">All</button>
                ${categories.map(category => 
                    `<button class="filter-button" data-category="${category}">${category}</button>`
                ).join('')}
            `;

            filtersContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-button')) {
                    document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    generateAct(e.target.dataset.category);
                }
            });
        }

        // Generate confetti effect
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.background = `hsl(${Math.random() * 360}, 50%, 50%)`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }
        }

        // Generate a random act
        async function generateAct(category = 'all') {
            const loading = document.getElementById('loading');
            const error = document.getElementById('error');
            const actElement = document.getElementById('kindnessAct');
            const generateButton = document.getElementById('generateButton');

            loading.style.display = 'block';
            error.style.display = 'none';
            actElement.style.opacity = '0';
            generateButton.disabled = true;

            if (acts.length === 0) {
                const success = await fetchActs();
                if (!success) {
                    loading.style.display = 'none';
                    error.style.display = 'block';
                    generateButton.disabled = false;
                    return;
                }
            }

            const filteredActs = category === 'all' 
                ? acts 
                : acts.filter(act => act.category === category);

            currentAct = filteredActs[Math.floor(Math.random() * filteredActs.length)];
            
            loading.style.display = 'none';
actElement.textContent = currentAct.act;
            document.getElementById('category').textContent = currentAct.category;
            document.getElementById('difficulty').textContent = currentAct.difficulty;
            
            animateText();
            generateButton.disabled = false;
        }

        // Mark act as completed
        function markCompleted() {
            if (!currentAct) return;
            
            completedActs.add(currentAct.id);
            updateStats();
            createConfetti();
            saveData();
            
            // Update progress bar
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const dailyGoal = 3; // Set daily goal
            const completedToday = getCompletedToday();
            
            const progress = (completedToday / dailyGoal) * 100;
            progressBar.style.width = `${Math.min(progress, 100)}%`;
            
            if (completedToday >= dailyGoal) {
                progressText.textContent = "Daily goal achieved! You're amazing! ðŸŽ‰";
                progressBar.style.background = 'linear-gradient(90deg, #00b894, #00cec9)';
            } else {
                progressText.textContent = `${completedToday} of ${dailyGoal} acts completed today`;
            }
        }

        // Get completed acts for today
        function getCompletedToday() {
            const today = new Date().toDateString();
            const savedDate = localStorage.getItem('lastCompletedDate');
            
            if (savedDate !== today) {
                localStorage.setItem('lastCompletedDate', today);
                localStorage.setItem('completedToday', '0');
                return 0;
            }
            
            return parseInt(localStorage.getItem('completedToday')) || 0;
        }

        // Update statistics
        function updateStats() {
            document.getElementById('totalActs').textContent = acts.length;
            document.getElementById('completedActs').textContent = completedActs.size;
            document.getElementById('currentStreak').textContent = streak;
            
            // Update streak
            const today = new Date().toDateString();
            const lastActive = localStorage.getItem('lastActiveDate');
            
            if (lastActive !== today) {
                localStorage.setItem('lastActiveDate', today);
                if (isConsecutiveDay(lastActive)) {
                    streak++;
                } else {
                    streak = 1;
                }
                saveData();
            }
        }

        // Check if dates are consecutive
        function isConsecutiveDay(lastDate) {
            if (!lastDate) return false;
            
            const last = new Date(lastDate);
            const today = new Date();
            const diffTime = Math.abs(today - last);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            return diffDays === 1;
        }

        // Share functionality
        function shareAct(platform) {
            if (!currentAct) return;
            
            const text = encodeURIComponent(
                `ðŸŒŸ Today's Random Act of Kindness: ${currentAct.act}\n#RandomActsOfKindness #Kindness`
            );
            
            if (platform === 'twitter') {
                window.open(`https://twitter.com/intent/tweet?text=${text}`);
            }
        }

        // Copy to clipboard
        function copyAct() {
            if (!currentAct) return;
            
            navigator.clipboard.writeText(currentAct.act).then(() => {
                const button = document.querySelector('.share-button:last-child');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                }, 2000);
            });
        }

        // Text animation
        function animateText() {
            const textElement = document.getElementById('kindnessAct');
            textElement.style.transform = 'translateY(20px)';
            textElement.style.opacity = '0';
            
            setTimeout(() => {
                textElement.style.transition = 'all 0.5s ease';
                textElement.style.transform = 'translateY(0)';
                textElement.style.opacity = '1';
            }, 100);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            fetchActs().then(() => {
                document.getElementById('loading').style.display = 'none';
                updateStats();
            });

            // Check for daily reset
            const today = new Date().toDateString();
            const lastReset = localStorage.getItem('lastResetDate');
            
            if (lastReset !== today) {
                localStorage.setItem('completedToday', '0');
                localStorage.setItem('lastResetDate', today);
            }

            // Update progress bar initially
            const completedToday = getCompletedToday();
            const dailyGoal = 3;
            const progress = (completedToday / dailyGoal) * 100;
            document.getElementById('progressBar').style.width = `${Math.min(progress, 100)}%`;
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                generateAct();
            } else if (e.code === 'Enter') {
                e.preventDefault();
                markCompleted();
            }
        });
    </script>
</body>
</html>
            
            
            